import datetime

# –§–∞–π–ª, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ–º —Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–ø–∏—Å–∏
FILE_NAME = "my_diary.txt"


def main():
    print("‚úèÔ∏è  –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –≤–∞—à –ª–∏—á–Ω—ã–π –¥–Ω–µ–≤–Ω–∏–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è! ‚úèÔ∏è")

    while True:
        print("\n–ß—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å?")
        print("1 - –°–¥–µ–ª–∞—Ç—å –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å")
        print("2 - –ü—Ä–æ—á–∏—Ç–∞—Ç—å –ø—Ä–æ—à–ª—ã–µ –∑–∞–ø–∏—Å–∏")
        print("3 - –í—ã–π—Ç–∏")

        choice = input("–í–∞—à –≤—ã–±–æ—Ä (1/2/3): ")

        if choice == '1':
            write_entry()
        elif choice == '2':
            read_entries()
        elif choice == '3':
            print("–î–æ —Å–≤–∏–¥–∞–Ω–∏—è! –•–æ—Ä–æ—à–µ–≥–æ –¥–Ω—è!")
            break
        else:
            print("–ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.")


def write_entry():
    """–§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π –∑–∞–ø–∏—Å–∏ –≤ –¥–Ω–µ–≤–Ω–∏–∫–µ"""
    print("\n--- –ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å ---")

    # –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è
    now = datetime.datetime.now()
    date_str = now.strftime("%d.%m.%Y %H:%M")

    # –°–ø—Ä–∞—à–∏–≤–∞–µ–º —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–∏ –∏ —Ç–µ–∫—Å—Ç–µ
    mood = input("–ö–∞–∫–æ–µ —É –≤–∞—Å —Å–µ–≥–æ–¥–Ω—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ? (–Ω–∞–ø—Ä–∏–º–µ—Ä: üòä —Ä–∞–¥–æ—Å—Ç–Ω–æ–µ, üò¢ –≥—Ä—É—Å—Ç–Ω–æ–µ, üò† –∑–ª–æ–µ, üòê –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ): ")
    text = input("–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ, —á—Ç–æ —É –≤–∞—Å –Ω–æ–≤–æ–≥–æ: ")

    # –§–æ—Ä–º–∏—Ä—É–µ–º –∑–∞–ø–∏—Å—å
    entry = f"[{date_str}] | –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ: {mood}\n–ó–∞–ø–∏—Å—å: {text}\n{'-' * 40}\n"

    # –û—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª –≤ —Ä–µ–∂–∏–º–µ –î–û–ë–ê–í–õ–ï–ù–ò–Ø ('a')
    with open(FILE_NAME, 'a', encoding='utf-8') as file:
        file.write(entry)

    print("‚úÖ –ó–∞–ø–∏—Å—å —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!")


def read_entries():
    """–§—É–Ω–∫—Ü–∏—è –¥–ª—è —á—Ç–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–æ—à–ª—ã—Ö –∑–∞–ø–∏—Å–µ–π"""
    print("\n--- –í–∞—à–∏ –ø—Ä–æ—à–ª—ã–µ –∑–∞–ø–∏—Å–∏ ---")

    try:
        # –ü—ã—Ç–∞–µ–º—Å—è –æ—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª –≤ —Ä–µ–∂–∏–º–µ –ß–¢–ï–ù–ò–Ø ('r')
        with open(FILE_NAME, 'r', encoding='utf-8') as file:
            content = file.read()

        if content:
            print(content)
        else:
            print("–í –≤–∞—à–µ–º –¥–Ω–µ–≤–Ω–∏–∫–µ –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–ø–∏—Å–µ–π.")

    except FileNotFoundError:
        # –ï—Å–ª–∏ —Ñ–∞–π–ª–∞ –µ—â–µ –Ω–µ—Ç, –≤—ã–≤–æ–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ
        print("–í –≤–∞—à–µ–º –¥–Ω–µ–≤–Ω–∏–∫–µ –ø–æ–∫–∞ –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–π –∑–∞–ø–∏—Å–∏. –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—É—é!")


# –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≥—Ä–∞–º–º—É
if __name__ == "__main__":
    main()